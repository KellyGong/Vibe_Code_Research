# Methods 清晰度检查模块

## 检查目标

确保 Methods 部分的数学符号（notation）定义完整、清晰、无歧义。

## 检查内容

### 1. Notation 定义完整性

**要求**：
- 每个数学符号在首次使用前必须有定义
- 定义应包含：符号含义、维度/类型（如适用）

**常见符号类型**：
| 类型 | 示例 | 必须说明 |
|------|------|----------|
| 标量 | α, β, λ | 含义、取值范围 |
| 向量 | **x**, **h** | 含义、维度 |
| 矩阵 | **W**, **A** | 含义、维度 (m×n) |
| 集合 | E, V, R | 含义、元素类型 |
| 函数 | f(·), g(·) | 输入输出、功能 |
| 索引 | i, j, k | 遍历什么、范围 |

### 2. 定义顺序

**要求**：定义必须在使用之前出现

**检查方法**：
1. 记录每个符号的首次定义位置
2. 记录每个符号的首次使用位置
3. 检查是否 定义位置 < 使用位置

### 3. 符号冲突

**要求**：同一符号不能有多重含义

**常见冲突**：
- 同一字母在不同section表示不同含义
- 上下标使用不一致

### 4. 符号一致性

**要求**：
- 相同概念使用相同符号
- 粗体/斜体使用一致（向量用粗体，标量用斜体）

## 检查流程

```
1. 扫描 Methods 部分的所有数学公式和符号
2. 建立符号表：
   - 符号
   - 首次出现位置
   - 定义位置（如有）
   - 定义内容
3. 检查：
   - 未定义符号
   - 定义滞后（先用后定义）
   - 符号冲突
   - 格式不一致
```

## 常见问题模式

| 问题 | 描述 | 严重程度 |
|------|------|----------|
| 符号未定义 | 直接使用符号但从未定义 | 🔴 Critical |
| 定义滞后 | 公式中使用了后面才定义的符号 | 🟡 Major |
| 维度缺失 | 矩阵/向量未说明维度 | 🟡 Major |
| 符号冲突 | 同一符号多重含义 | 🔴 Critical |
| 格式不一致 | 向量有时粗体有时不粗体 | 🟢 Minor |
| 范围不明 | 索引 i 遍历什么不清楚 | 🟡 Major |

## Notation Table 构建

建议为论文构建完整的 notation table：

```markdown
| 符号 | 类型 | 含义 | 维度/范围 | 首次定义 |
|------|------|------|----------|---------|
| E | 集合 | 实体集合 | |E| = n | Sec 3.1 |
| **e**_i | 向量 | 实体i的嵌入 | d维 | Sec 3.2 |
| α | 标量 | 注意力权重 | [0,1] | Eq. (3) |
| **W** | 矩阵 | 投影矩阵 | d×d' | Sec 3.3 |
```

## 输出模板

```markdown
## Methods 清晰度检查结果

**状态**: [✅ 通过 / ⚠️ 发现问题]

### 符号统计
- 总符号数: X
- 已定义: X
- 未定义: X
- 定义滞后: X

### 未定义符号
| 符号 | 首次出现 | 上下文 |
|------|---------|--------|

### 定义滞后符号
| 符号 | 首次使用 | 定义位置 |
|------|---------|---------|

### 符号冲突
| 符号 | 含义1 (位置) | 含义2 (位置) |
|------|-------------|-------------|

### 格式问题
| 问题 | 位置 | 描述 |
|------|------|------|

### 完整 Notation Table
[附录中提供]
```

## 注意事项

1. **约定俗成符号**：某些符号有约定俗成含义（如 θ 表示参数），可适当放宽
2. **上下文推断**：如果上下文明确可推断，轻微问题可降级
3. **图中符号**：Figure 中使用的符号也需要检查
4. **算法伪代码**：Algorithm 中的变量也需要定义
