# 实验可信度检查模块

## 检查目标

确保实验设置透明、可复现，硬件和训练细节声明充分。

## 检查清单

### 1. 硬件环境

| 检查项 | 重要性 | 说明 |
|--------|--------|------|
| GPU型号 | 🔴 必须 | 如 NVIDIA A100, V100, H100 |
| GPU数量 | 🔴 必须 | 单卡/多卡 |
| GPU显存 | 🟡 建议 | 如 80GB, 40GB |
| 总训练时间 | 🟡 建议 | 便于评估计算成本 |
| CPU/内存 | 🟢 可选 | 如有CPU密集操作需说明 |

**可信度检查**：
- 声明的硬件是否能支撑实验规模？
- 如使用大模型（70B+），是否说明了量化/并行策略？

### 2. 训练细节

| 检查项 | 重要性 | 常见值参考 |
|--------|--------|-----------|
| Batch size | 🔴 必须 | 16, 32, 64, 128... |
| Learning rate | 🔴 必须 | 1e-5, 2e-5, 1e-4... |
| Optimizer | 🔴 必须 | Adam, AdamW, SGD... |
| Training epochs/steps | 🔴 必须 | |
| Warmup steps | 🟡 建议 | |
| LR scheduler | 🟡 建议 | linear, cosine... |
| Weight decay | 🟡 建议 | |
| Gradient clipping | 🟢 可选 | |
| Mixed precision | 🟡 建议 | FP16, BF16, FP32 |

### 3. 数据集信息

| 检查项 | 重要性 |
|--------|--------|
| 数据集来源 | 🔴 必须 |
| 训练/验证/测试划分 | 🔴 必须 |
| 划分方式 | 🟡 建议 |
| 数据预处理 | 🟡 建议 |
| 数据规模 | 🟡 建议 |

### 4. 评估设置

| 检查项 | 重要性 |
|--------|--------|
| 评估指标定义 | 🔴 必须 |
| 评估代码来源 | 🟡 建议 |
| Baseline来源 | 🔴 必须 |
| 是否复现baseline | 🟡 建议 |

### 5. 可复现性

| 检查项 | 重要性 |
|--------|--------|
| 随机种子 | 🔴 必须 |
| 代码链接 | 🟡 建议 |
| 多次运行结果 | 🟡 建议 |
| 预训练模型来源 | 🔴 必须（如使用）|

## 可信度红旗（Red Flags）

以下情况需要特别关注：

### 硬件声明不合理

| 可疑情况 | 说明 |
|----------|------|
| 70B模型 + 2×V100 32GB | 即使量化也难以实现，除非有详细说明 |
| 大batch + 小显存 | 需要说明gradient accumulation |
| 多GPU但未说明并行策略 | DP, DDP, FSDP? |

### 训练细节缺失

| 可疑情况 | 说明 |
|----------|------|
| 只说"default settings" | 应具体说明 |
| 关键超参未提供 | 影响复现 |
| 多阶段训练顺序不明 | 先训练A还是B？ |

### 结果可疑

| 可疑情况 | 说明 |
|----------|------|
| 结果远超SOTA但方法简单 | 需要仔细核验 |
| 所有指标都最优 | 通常有trade-off |
| 与baseline差距过大 | 检查实验设置是否公平 |

## 检查流程

```
1. 定位实验设置section（通常是 Experimental Setup 或 Implementation Details）
2. 逐项检查上述清单
3. 标记缺失项
4. 对可疑项进行可信度评估
5. 汇总问题
```

## 输出模板

```markdown
## 实验可信度检查结果

**状态**: [✅ 通过 / ⚠️ 发现问题]

### 硬件环境声明
| 检查项 | 是否声明 | 内容 | 位置 |
|--------|---------|------|------|
| GPU型号 | ✅/❌ | | |
| GPU数量 | ✅/❌ | | |
| GPU显存 | ✅/❌ | | |
| 训练时间 | ✅/❌ | | |

### 训练细节声明
| 检查项 | 是否声明 | 内容 | 位置 |
|--------|---------|------|------|
| Batch size | ✅/❌ | | |
| Learning rate | ✅/❌ | | |
| Optimizer | ✅/❌ | | |
| Epochs/Steps | ✅/❌ | | |
| 随机种子 | ✅/❌ | | |

### 数据集信息
| 检查项 | 是否声明 | 内容 |
|--------|---------|------|
| 数据来源 | ✅/❌ | |
| 数据划分 | ✅/❌ | |

### 可信度问题
| 问题 | 严重程度 | 描述 |
|------|---------|------|

### 缺失项汇总
🔴 必须项缺失: [列表]
🟡 建议项缺失: [列表]
```

## 注意事项

1. **不检查统计显著性**：根据用户要求，不检查统计显著性测试
2. **会议特定要求**：某些会议有 Reproducibility Checklist，需单独检查
3. **Appendix**：训练细节可能在附录中，需要检查
4. **代码仓库**：如果提供了代码，可以交叉验证训练细节
